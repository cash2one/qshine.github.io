---
title: 动态规划
date: 2017-06-17 11:03:57
categories: 数据结构和算法
tags:
---




<!--more-->

### 使用动态规划的算法

#### 一. 最长公共子序列

有两个序列

- x序列: 有m个元素
- y序列: 有n个元素

如果`x[0] == y[0]`, 那么x和y的最长公共子序列就是`x[1:m]和y[1:n]`的最长公共子序列长度`+1`  
如果`x[0] != y[0]`, 那么x和y的最长公共子序列就是`max(x[:m]和y[1:n]的最长公共子序列, x[1:m]和y[:n]的最长公共子序列)`中长度较大的那个

```python
#!/usr/bin/env python
# coding:utf-8


class LCS(object):
    """
    最长公共子序列
    """
    def lcs_base(self, input_x, input_y):
        if len(input_x) == 0 or len(input_y) == 0:
            return ""
        else:
            a = input_x[0]
            b = input_x[0]
            if a == b:
                return a + self.lcs_base(input_x[1:], input_y[1:])
            else:
                return self.max(self.lcs_base(input_x[1:], input_y), self.lcs_base(input_x, input_y[1:]))

    def max(self, a, b):
        """得到最长的子序列"""
        if len(a) >= len(b):
            return a
        else:
            return b



if __name__ == '__main__':
    l = LCS()
    x = list('1234')
    y = list('12675498')
    print l.lcs_base(x, y)

```

__使用`二维数组`实现__
通过二维数组来模拟填充表格
- 如果两个值相等, 则当前单元格的值为左上角单元格值+1
- 如果两个值不相等, 则当前单元格的值为`max(上方单元格值, 左方单元格值)`

```python
#!/usr/bin/env python
# coding:utf-8

class LCS(object):
    """
    最长公共子序列, 模拟二维数组实现
    """
    def lcs_base(self, x, y):
        res = ""
        x.insert(0, 0)
        y.insert(0, 0)
        table = []
        row = [0]*(len(x))
        for c in range(len(y)):
            table.append(row)
        for j in range(1, len(y)):
            for i in range(1, len(x)):
                if x[i] == y[j]:
                    table[j][i] = table[j-1][i-1] + 1
                    res += x[i]
                else:
                    table[j][i] = max(table[j-1][i], table[j][i-1])
        return res


if __name__ == '__main__':
    x = list('abcde')
    y = list('hcdefds')
    l = LCS()
    print l.lcs_base(x, y)

```



- [最长公共子序列-1](http://codepub.cn/2015/07/03/Python-implementation-of-the-longest-common-subsequences/)
- [最长公共子序列-2](http://blog.csdn.net/littlethunder/article/details/25637173)
